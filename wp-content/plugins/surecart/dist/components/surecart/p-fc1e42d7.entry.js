import{r as s,c as i,h as t}from"./p-cc7ce8c7.js";import{a as e}from"./p-c06b2e12.js";import{s as o}from"./p-048f799d.js";import{s as h,o as n}from"./p-188a42bd.js";import{c as a}from"./p-996fde25.js";import"./p-25433d0f.js";import"./p-f70181c4.js";import"./p-4d73f82a.js";import"./p-1c2e2695.js";import"./p-09484d0e.js";import"./p-67d61723.js";import"./p-7ef0f71c.js";import"./p-23d4aa39.js";import"./p-18e45a13.js";const d=":host{display:block}";const r=class{constructor(t){s(this,t);this.scChange=i(this,"scChange",7);this.scUpdateOrderState=i(this,"scUpdateOrderState",7);this.scClear=i(this,"scClear",7);this.scInput=i(this,"scInput",7);this.scFocus=i(this,"scFocus",7);this.scBlur=i(this,"scBlur",7);this.scUpdateCustomer=i(this,"scUpdateCustomer",7);this.loggedIn=undefined;this.size="medium";this.value=e("first_name");this.pill=false;this.label=undefined;this.showLabel=true;this.help="";this.placeholder=undefined;this.disabled=false;this.readonly=false;this.required=false;this.invalid=false;this.autofocus=undefined;this.hasFocus=undefined}async reportValidity(){return this.input.reportValidity()}async handleChange(){this.value=this.input.value;try{h.checkout=await a({id:h.checkout.id,data:{first_name:this.input.value}})}catch(s){console.error(s)}}handleSessionChange(){var s,i,t,n,a,d;if(this.value)return;const r=e("first_name");if(!o.loggedIn&&!!r){this.value=r;return}if(!o.loggedIn){this.value=((i=(s=h===null||h===void 0?void 0:h.checkout)===null||s===void 0?void 0:s.customer)===null||i===void 0?void 0:i.first_name)||((t=h===null||h===void 0?void 0:h.checkout)===null||t===void 0?void 0:t.first_name)}else{this.value=((n=h===null||h===void 0?void 0:h.checkout)===null||n===void 0?void 0:n.first_name)||((d=(a=h===null||h===void 0?void 0:h.checkout)===null||a===void 0?void 0:a.customer)===null||d===void 0?void 0:d.first_name)}}componentWillLoad(){this.handleSessionChange();this.removeCheckoutListener=n("checkout",(()=>this.handleSessionChange()))}disconnectedCallback(){this.removeCheckoutListener()}render(){return t("sc-input",{type:"text",name:"first_name",ref:s=>this.input=s,value:this.value,label:this.label,help:this.help,autocomplete:"first_name",placeholder:this.placeholder,readonly:this.readonly,required:this.required,invalid:this.invalid,autofocus:this.autofocus,hasFocus:this.hasFocus,onScChange:()=>this.handleChange(),onScInput:()=>this.scInput.emit(),onScFocus:()=>this.scFocus.emit(),onScBlur:()=>this.scBlur.emit()})}};r.style=d;export{r as sc_customer_firstname};
//# sourceMappingURL=p-fc1e42d7.entry.js.map